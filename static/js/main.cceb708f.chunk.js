(this["webpackJsonpball-sort-puzzle"]=this["webpackJsonpball-sort-puzzle"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(39)},,,,,function(e,t,n){},,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),i=n.n(o),s=(n(21),n(5)),u=n(9),l=(n(22),n(23),n(1)),c=n(2),f=n(3),v=n.n(f),h=function(){function e(t){Object(l.a)(this,e),this.value=t,this.next=null,v()(this)}return Object(c.a)(e,[{key:"getValue",value:function(){return this.value}},{key:"getNext",value:function(){return this.next}},{key:"setNext",value:function(e){return this.next=e,this}}]),e}(),m=function(){function e(){Object(l.a)(this,e),this.next=null,this.internalSize=0,v()(this)}return Object(c.a)(e,[{key:"push",value:function(e){var t=new h(e);t.setNext(this.next),this.next=t,this.internalSize+=1}},{key:"top",value:function(){return this.next.getValue()}},{key:"pop",value:function(){var e=this.next;return this.next=e.getNext(),this.internalSize-=1,e.getValue()}},{key:"isEmpty",value:function(){return null===this.next}},{key:"size",value:function(){return this.internalSize}}]),e}(),p=function(){function e(){Object(l.a)(this,e),this.capacity=4,this.stack=new m,v()(this)}return Object(c.a)(e,[{key:"getCapacity",value:function(){return this.capacity}},{key:"isEmpty",value:function(){return this.stack.isEmpty()}},{key:"isFull",value:function(){return this.stack.size()===this.capacity}},{key:"top",value:function(){return this.stack.top()}},{key:"pop",value:function(){return this.stack.pop()}},{key:"push",value:function(e){if(this.isFull())throw Error("Can't push to a full glass");this.stack.push(e)}},{key:"hasOnlySingleColorBalls",value:function(){for(var e=this.getAllBalls(),t=1;t<e.length;t+=1)if(e[t-1]!==e[t])return!1;return!0}},{key:"pushArrayOfBalls",value:function(e){if(e.length+this.stack.size()>this.capacity)throw Error("pushArrayOfBalls can't exceed glass capacity");e.forEach(this.push)}},{key:"getAllBalls",value:function(){for(var e=[];!this.isEmpty();)e.push(this.pop());return e.reverse(),this.pushArrayOfBalls(e),e}},{key:"clone",value:function(){var t=new e(this.capacity);return t.pushArrayOfBalls(this.getAllBalls()),t}},{key:"toString",value:function(){return this.getAllBalls().join(",")}}]),e}();n(30);function d(e){var t=e.color,n=e.onClick;return a.a.createElement("div",{className:"Ball",onClick:function(){return n()},style:{backgroundColor:t},role:"button",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&n()}})}d.defaultProps={onClick:function(){}};var k=d;n(31);function b(e){var t=e.glass,n=e.active,r=e.onClick,o=t.getAllBalls(),i=function(e,t){return"".concat(t,":").concat(e)};return a.a.createElement("div",{className:"TestTube ".concat(n?"active":""),onClick:function(){return r()},role:"button",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&r()}},a.a.createElement("div",{className:"BallWrapper"},o.map((function(e,t){return a.a.createElement(k,{key:i(e,t),color:e})}))))}b.defaultProps={active:!1,onClick:function(){}};var g=b;n(32);function y(e){var t=e.glasses,n=e.activeGlass,r=e.onTestTubeClick,o=function(e,t){return"".concat(t,":").concat(e.toString())};return a.a.createElement("div",{className:"TestTubes"},t.map((function(e,t){return a.a.createElement("div",{key:o(e,t),className:"TestTubeWrapper"},a.a.createElement(g,{glass:e,active:t===n,onClick:function(){return r(t)}}))})))}y.defaultProps={activeGlass:-1,onTestTubeClick:function(){}};var E=y;n(33);var C=function(e){var t=e.testTubes,n=e.children;return a.a.createElement("div",{className:"Template"},a.a.createElement("div",{className:"TestTubesWrapper"},t),a.a.createElement("div",{className:"SidepanelWrapper"},n))};n(34);var O=function(e){var t=e.children;return a.a.createElement("div",{className:"Sidebar"},t)};n(35);function N(e){var t=e.disabled,n=e.onClick,r=e.text;return a.a.createElement("button",{type:"button",className:"Button",disabled:t,onClick:function(){return n()}},a.a.createElement("span",null,r))}N.defaultProps={disabled:!1,onClick:function(){}};var x=N;n(36);function T(e){var t=e.glasses,n=e.colors,r=e.activeGlass,o=e.onTestTubeClick,i=e.onClear,s=e.onAdd,u=e.onRemove,l=e.onColorClick,c=e.onSolve;return a.a.createElement(C,{testTubes:a.a.createElement(E,{glasses:t,activeGlass:r,onTestTubeClick:function(e){return o(e)}})},a.a.createElement(j,{colors:n,onClear:function(){return i()},onAdd:function(){return s()},onRemove:function(){return u()},onColorClick:function(e){return l(e)},onSolve:function(){return c()}}))}function j(e){var t=e.colors,n=e.onColorClick,r=e.onAdd,o=e.onClear,i=e.onRemove,s=e.onSolve;return a.a.createElement(O,null,a.a.createElement("div",{className:"BallWrapper"},t.map((function(e){return a.a.createElement("div",{key:e,className:"SingleBallWrapper"},a.a.createElement(k,{color:e,onClick:function(){return n(e)}}))}))),a.a.createElement(x,{text:"CLEAR",onClick:function(){return o()}}),a.a.createElement(x,{text:"ADD",onClick:function(){return r()}}),a.a.createElement(x,{text:"REMOVE",onClick:function(){return i()}}),a.a.createElement(x,{text:"SOLVE",onClick:function(){return s()}}))}T.defaultProps={onTestTubeClick:function(){},onClear:function(){},onAdd:function(){},onRemove:function(){},onColorClick:function(){},onSolve:function(){}},j.defaultProps={onColorClick:function(){},onAdd:function(){},onClear:function(){},onRemove:function(){},onSolve:function(){}};var G=T,S=function(){function e(t,n){Object(l.a)(this,e),this.from=t,this.to=n}return Object(c.a)(e,[{key:"invert",value:function(){return new e(this.to,this.from)}}]),e}();function w(e){var t=e.currentMove,n=e.numberOfMoves,r=e.onNext,o=e.onPrevious,i=e.onRestart;return a.a.createElement(O,null,a.a.createElement("p",null,t," / ",n),a.a.createElement(x,{text:"Next",disabled:t>=n,onClick:function(){return r()}}),a.a.createElement(x,{text:"Previous",disabled:t<=0,onClick:function(){return o()}}),a.a.createElement(x,{text:"Restart",onClick:function(){return i()}}))}var B=function(e){var t=e.glasses,n=e.moves,r=e.moveIndex,o=e.onNext,i=e.onPrevious,s=e.onRestart;return a.a.createElement(C,{testTubes:a.a.createElement(E,{glasses:t})},a.a.createElement(w,{currentMove:r,numberOfMoves:n.length,onNext:function(){return o()},onPrevious:function(){return i()},onRestart:function(){return s()}}))},A=function(){function e(t){Object(l.a)(this,e),this.glasses=t,this.numberOfColors=this.internalCalculateNumberOfColors(),v()(this)}return Object(c.a)(e,[{key:"isGlassComplete",value:function(e){var t=this.internalGetGlass(e);return t.isFull()&&t.hasOnlySingleColorBalls()}},{key:"isComplete",value:function(){var e=this;return this.glasses.filter((function(t,n){return e.isGlassComplete(n)})).length===this.numberOfColors}},{key:"calculateAllPotentialMoves",value:function(){var e=this,t=[];return this.glasses.forEach((function(n,r){n.isFull()||e.internalFindAllGlassIndexesThatCanMoveToGlass(r).forEach((function(e){t.push(new S(e,r))}))})),t}},{key:"moveBall",value:function(e){var t=this.internalGetGlass(e.from).pop();this.internalGetGlass(e.to).push(t)}},{key:"getGlasses",value:function(){return this.glasses}},{key:"clone",value:function(){return new e(this.glasses.map((function(e){return e.clone()})))}},{key:"toString",value:function(){var e=this,t="";return this.glasses.forEach((function(n,r){t+=n.toString(),r!==e.numberOfGlasses-1&&(t+="\n")})),t}},{key:"internalGetGlass",value:function(e){return this.glasses[e]}},{key:"internalCalculateNumberOfColors",value:function(){var e=new Set;return this.glasses.forEach((function(t){t.getAllBalls().forEach((function(t){return e.add(t)}))})),e.size}},{key:"internalFindAllGlassIndexesThatCanMoveToGlass",value:function(e){var t=this.internalGetGlass(e);return this.glasses.map((function(e,t){return{fromGlass:e,fromIndex:t}})).filter((function(t){return t.fromIndex!==e})).filter((function(e){return!e.fromGlass.isEmpty()})).filter((function(e){var n=e.fromGlass;return t.isEmpty()||t.top()===n.top()})).map((function(e){return e.fromIndex}))}}]),e}(),P=n(14),R=n(15),M=n(13),I=function(){function e(t){Object(l.a)(this,e),this.visited=new Set,this.visited.add(t.getHash()),this.stack=new m,this.stack.push(t),v()(this)}return Object(c.a)(e,[{key:"isDone",value:function(){return this.stack.isEmpty()}},{key:"currentNode",value:function(){return this.stack.top()}},{key:"iterate",value:function(){var e=this.stack,t=this.visited;e.pop().getNeighbors().forEach((function(n){var r=n.getHash();t.has(r)||(e.push(n),t.add(r))}))}}]),e}(),z=function(e){Object(R.a)(n,e);var t=Object(M.a)(n);function n(e,r,a){var o;return Object(l.a)(this,n),(o=t.call(this)).board=e,o.previousMove=r,o.previousNode=a,o}return Object(c.a)(n,[{key:"getHash",value:function(){var e=this.board.getGlasses().map((function(e){return e.toString()}));return e.sort(),e.join(";")}},{key:"getNeighbors",value:function(){var e=this,t=this.board;return t.calculateAllPotentialMoves().filter((function(e){return!t.isGlassComplete(e.from)})).map((function(r){var a=t.clone();return a.moveBall(r),new n(a,r,e)}))}},{key:"getBoard",value:function(){return this.board}},{key:"getMovesToNode",value:function(){var e=[];return null!==this.previousNode&&e.push.apply(e,Object(P.a)(this.previousNode.getMovesToNode())),null!==this.previousMove&&e.push(this.previousMove),e}}]),n}(function(){function e(){Object(l.a)(this,e)}return Object(c.a)(e,[{key:"getHash",value:function(){throw Error("Not implemented")}},{key:"getNeighbors",value:function(){throw Error("Not implemented")}}]),e}());var W=function(e){for(var t=new z(e,null,null),n=new I(t);!n.isDone();){var r=n.currentNode();if(r.getBoard().isComplete())return{isSolvable:!0,moves:r.getMovesToNode()};n.iterate()}return{isSolvable:!1,moves:[]}},F=Object.values({RED:"#c52b23",BLUE:"#3b2fc3",PURPLE:"#722b93",YELLOW:"#f1da58",GREEN:"#78970e",PINK:"#ea5e7b",AQUA:"#55a3e5",GREY:"#636466",BABY:"#61d67d",ORANGE:"#e88c41"});function L(e){var t=new p;return t.pushArrayOfBalls(e.map((function(e){return F[e]}))),t}var D=[L([0,1,0,2]),L([1,3,4,2]),L([5,6,4,4]),L([7,6,3,6]),L([8,5,7,7]),L([0,5,5,1]),L([3,3,2,0]),L([4,6,8,8]),L([7,2,8,1]),L([]),L([])];function H(e){return e.map((function(e){return e.clone()}))}var V=function(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)("configuration"),l=Object(s.a)(i,2),c=l[0],f=l[1],v=Object(r.useState)([]),h=Object(s.a)(v,2),m=h[0],d=h[1],k=Object(r.useState)(0),b=Object(s.a)(k,2),g=b[0],y=b[1],E=Object(r.useState)([]),C=Object(s.a)(E,2),O=C[0],N=C[1],x=Object(r.useState)(D),T=Object(s.a)(x,2),j=T[0],S=T[1];return a.a.createElement("div",{className:"App"},a.a.createElement(u.a,null),"configuration"===c?a.a.createElement(G,{colors:F,glasses:j,activeGlass:n,onTestTubeClick:function(e){o(e)},onClear:function(){S(function(e,t){var n=H(e);return n.splice(t,1,new p),n}(j,n))},onAdd:function(){S(function(e,t){var n=H(e);return n.splice(t+1,0,new p),n}(j,n)),o(n+1)},onRemove:function(){S(function(e,t){var n=H(e);return n.splice(t,1),0===n.length&&n.push(new p),n}(j,n)),o(Math.max(n-1,0))},onColorClick:function(e){S(function(e,t,n){var r=H(e),a=r[t];return a.isFull()||a.push(n),r}(j,n,e))},onSolve:function(){var e=new A(j),t=W(e);t.isSolvable?(y(0),d(t.moves),N(H(j)),f("solution")):u.b.error("This board is not solvable...",{position:u.b.POSITION.TOP_RIGHT,autoClose:5e3,hideProgressBar:!0})}}):a.a.createElement(B,{glasses:O,moves:m,moveIndex:g,onNext:function(){var e=m[g],t=new A(O);t.moveBall(e),N(t.getGlasses()),y(g+1)},onPrevious:function(){var e=m[g-1],t=new A(O);t.moveBall(e.invert()),N(t.getGlasses()),y(g-1)},onRestart:function(){f("configuration")}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[16,1,2]]]);
//# sourceMappingURL=main.cceb708f.chunk.js.map