(this["webpackJsonpball-sort-puzzle"]=this["webpackJsonpball-sort-puzzle"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(33)},,,,,function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),i=n.n(o),s=(n(18),n(4)),u=(n(19),n(1)),l=n(2),c=n(3),f=n.n(c),v=function(){function e(t){Object(u.a)(this,e),this.value=t,this.next=null,f()(this)}return Object(l.a)(e,[{key:"getValue",value:function(){return this.value}},{key:"getNext",value:function(){return this.next}},{key:"setNext",value:function(e){return this.next=e,this}}]),e}(),h=function(){function e(){Object(u.a)(this,e),this.next=null,this.internalSize=0,f()(this)}return Object(l.a)(e,[{key:"push",value:function(e){var t=new v(e);t.setNext(this.next),this.next=t,this.internalSize+=1}},{key:"top",value:function(){return this.next.getValue()}},{key:"pop",value:function(){var e=this.next;return this.next=e.getNext(),this.internalSize-=1,e.getValue()}},{key:"isEmpty",value:function(){return null===this.next}},{key:"size",value:function(){return this.internalSize}}]),e}(),m=function(){function e(){Object(u.a)(this,e),this.capacity=4,this.stack=new h,f()(this)}return Object(l.a)(e,[{key:"getCapacity",value:function(){return this.capacity}},{key:"isEmpty",value:function(){return this.stack.isEmpty()}},{key:"isFull",value:function(){return this.stack.size()===this.capacity}},{key:"top",value:function(){return this.stack.top()}},{key:"pop",value:function(){return this.stack.pop()}},{key:"push",value:function(e){if(this.isFull())throw Error("Can't push to a full glass");this.stack.push(e)}},{key:"hasOnlySingleColorBalls",value:function(){for(var e=this.getAllBalls(),t=1;t<e.length;t+=1)if(e[t-1]!==e[t])return!1;return!0}},{key:"pushArrayOfBalls",value:function(e){if(e.length+this.stack.size()>this.capacity)throw Error("pushArrayOfBalls can't exceed glass capacity");e.forEach(this.push)}},{key:"getAllBalls",value:function(){for(var e=[];!this.isEmpty();)e.push(this.pop());return e.reverse(),this.pushArrayOfBalls(e),e}},{key:"clone",value:function(){var t=new e(this.capacity);return t.pushArrayOfBalls(this.getAllBalls()),t}},{key:"toString",value:function(){return this.getAllBalls().join(",")}}]),e}();n(26);function p(e){var t=e.color,n=e.onClick;return a.a.createElement("div",{className:"Ball",onClick:function(){return n()},style:{backgroundColor:t},role:"button",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&n()}})}p.defaultProps={onClick:function(){}};var d=p;n(27);function k(e){var t=e.glass,n=e.active,r=e.onClick,o=t.getAllBalls(),i=function(e,t){return"".concat(t,":").concat(e)};return a.a.createElement("div",{className:"TestTube ".concat(n?"active":""),onClick:function(){return r()},role:"button",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&r()}},a.a.createElement("div",{className:"BallWrapper"},o.map((function(e,t){return a.a.createElement(d,{key:i(e,t),color:e})}))))}k.defaultProps={active:!1,onClick:function(){}};var b=k;n(28);function g(e){var t=e.glasses,n=e.activeGlass,r=e.onTestTubeClick,o=function(e,t){return"".concat(t,":").concat(e.toString())};return a.a.createElement("div",{className:"TestTubes"},t.map((function(e,t){return a.a.createElement("div",{key:o(e,t),className:"TestTubeWrapper"},a.a.createElement(b,{glass:e,active:t===n,onClick:function(){return r(t)}}))})))}g.defaultProps={activeGlass:-1,onTestTubeClick:function(){}};var y=g;n(29);var E=function(e){var t=e.testTubes,n=e.children;return a.a.createElement("div",{className:"Template"},a.a.createElement("div",{className:"TestTubesWrapper"},t),a.a.createElement("div",{className:"SidepanelWrapper"},n))};n(30);var C=function(e){var t=e.children;return a.a.createElement("div",{className:"Sidebar"},t)};n(31);function O(e){var t=e.disabled,n=e.onClick,r=e.text;return a.a.createElement("button",{type:"button",className:"Button",disabled:t,onClick:function(){return n()}},a.a.createElement("span",null,r))}O.defaultProps={disabled:!1,onClick:function(){}};var N=O;n(32);function x(e){var t=e.glasses,n=e.colors,r=e.activeGlass,o=e.onTestTubeClick,i=e.onClear,s=e.onAdd,u=e.onRemove,l=e.onColorClick,c=e.onSolve;return a.a.createElement(E,{testTubes:a.a.createElement(y,{glasses:t,activeGlass:r,onTestTubeClick:function(e){return o(e)}})},a.a.createElement(j,{colors:n,onClear:function(){return i()},onAdd:function(){return s()},onRemove:function(){return u()},onColorClick:function(e){return l(e)},onSolve:function(){return c()}}))}function j(e){var t=e.colors,n=e.onColorClick,r=e.onAdd,o=e.onClear,i=e.onRemove,s=e.onSolve;return a.a.createElement(C,null,a.a.createElement("div",{className:"BallWrapper"},t.map((function(e){return a.a.createElement("div",{key:e,className:"SingleBallWrapper"},a.a.createElement(d,{color:e,onClick:function(){return n(e)}}))}))),a.a.createElement(N,{text:"CLEAR",onClick:function(){return o()}}),a.a.createElement(N,{text:"ADD",onClick:function(){return r()}}),a.a.createElement(N,{text:"REMOVE",onClick:function(){return i()}}),a.a.createElement(N,{text:"SOLVE",onClick:function(){return s()}}))}x.defaultProps={onTestTubeClick:function(){},onClear:function(){},onAdd:function(){},onRemove:function(){},onColorClick:function(){},onSolve:function(){}},j.defaultProps={onColorClick:function(){},onAdd:function(){},onClear:function(){},onRemove:function(){},onSolve:function(){}};var G=x,S=function(){function e(t,n){Object(u.a)(this,e),this.from=t,this.to=n}return Object(l.a)(e,[{key:"invert",value:function(){return new e(this.to,this.from)}}]),e}();function w(e){var t=e.currentMove,n=e.numberOfMoves,r=e.onNext,o=e.onPrevious,i=e.onRestart;return a.a.createElement(C,null,a.a.createElement("p",null,t," / ",n),a.a.createElement(N,{text:"Next",disabled:t>=n,onClick:function(){return r()}}),a.a.createElement(N,{text:"Previous",disabled:t<=0,onClick:function(){return o()}}),a.a.createElement(N,{text:"Restart",onClick:function(){return i()}}))}var T=function(e){var t=e.glasses,n=e.moves,r=e.moveIndex,o=e.onNext,i=e.onPrevious,s=e.onRestart;return a.a.createElement(E,{testTubes:a.a.createElement(y,{glasses:t})},a.a.createElement(w,{currentMove:r,numberOfMoves:n.length,onNext:function(){return o()},onPrevious:function(){return i()},onRestart:function(){return s()}}))},B=function(){function e(t){Object(u.a)(this,e),this.glasses=t,this.numberOfColors=this.internalCalculateNumberOfColors(),f()(this)}return Object(l.a)(e,[{key:"isGlassComplete",value:function(e){var t=this.internalGetGlass(e);return t.isFull()&&t.hasOnlySingleColorBalls()}},{key:"isComplete",value:function(){var e=this;return this.glasses.filter((function(t,n){return e.isGlassComplete(n)})).length===this.numberOfColors}},{key:"calculateAllPotentialMoves",value:function(){var e=this,t=[];return this.glasses.forEach((function(n,r){n.isFull()||e.internalFindAllGlassIndexesThatCanMoveToGlass(r).forEach((function(e){t.push(new S(e,r))}))})),t}},{key:"moveBall",value:function(e){var t=this.internalGetGlass(e.from).pop();this.internalGetGlass(e.to).push(t)}},{key:"getGlasses",value:function(){return this.glasses}},{key:"clone",value:function(){return new e(this.glasses.map((function(e){return e.clone()})))}},{key:"toString",value:function(){var e=this,t="";return this.glasses.forEach((function(n,r){t+=n.toString(),r!==e.numberOfGlasses-1&&(t+="\n")})),t}},{key:"internalGetGlass",value:function(e){return this.glasses[e]}},{key:"internalCalculateNumberOfColors",value:function(){var e=new Set;return this.glasses.forEach((function(t){t.getAllBalls().forEach((function(t){return e.add(t)}))})),e.size}},{key:"internalFindAllGlassIndexesThatCanMoveToGlass",value:function(e){var t=this.internalGetGlass(e);return this.glasses.map((function(e,t){return{fromGlass:e,fromIndex:t}})).filter((function(t){return t.fromIndex!==e})).filter((function(e){return!e.fromGlass.isEmpty()})).filter((function(e){var n=e.fromGlass;return t.isEmpty()||t.top()===n.top()})).map((function(e){return e.fromIndex}))}}]),e}(),A=n(11),P=n(12),R=n(10),M=function(){function e(t){Object(u.a)(this,e),this.visited=new Set,this.visited.add(t.getHash()),this.stack=new h,this.stack.push(t),f()(this)}return Object(l.a)(e,[{key:"isDone",value:function(){return this.stack.isEmpty()}},{key:"currentNode",value:function(){return this.stack.top()}},{key:"iterate",value:function(){var e=this.stack,t=this.visited;e.pop().getNeighbors().forEach((function(n){var r=n.getHash();t.has(r)||(e.push(n),t.add(r))}))}}]),e}(),z=function(e){Object(P.a)(n,e);var t=Object(R.a)(n);function n(e,r,a){var o;return Object(u.a)(this,n),(o=t.call(this)).board=e,o.previousMove=r,o.previousNode=a,o}return Object(l.a)(n,[{key:"getHash",value:function(){var e=this.board.getGlasses().map((function(e){return e.toString()}));return e.sort(),e.join(";")}},{key:"getNeighbors",value:function(){var e=this,t=this.board;return t.calculateAllPotentialMoves().filter((function(e){return!t.isGlassComplete(e.from)})).map((function(r){var a=t.clone();return a.moveBall(r),new n(a,r,e)}))}},{key:"getBoard",value:function(){return this.board}},{key:"getMovesToNode",value:function(){var e=[];return null!==this.previousNode&&e.push.apply(e,Object(A.a)(this.previousNode.getMovesToNode())),null!==this.previousMove&&e.push(this.previousMove),e}}]),n}(function(){function e(){Object(u.a)(this,e)}return Object(l.a)(e,[{key:"getHash",value:function(){throw Error("Not implemented")}},{key:"getNeighbors",value:function(){throw Error("Not implemented")}}]),e}());var I=function(e){for(var t=new z(e,null,null),n=new M(t);!n.isDone();){var r=n.currentNode();if(r.getBoard().isComplete())return{isSolvable:!0,moves:r.getMovesToNode()};n.iterate()}return{isSolvable:!1,moves:[]}},W=Object.values({RED:"#c52b23",BLUE:"#3b2fc3",PURPLE:"#722b93",YELLOW:"#f1da58",GREEN:"#78970e",PINK:"#ea5e7b",AQUA:"#55a3e5",GREY:"#636466",BABY:"#61d67d",ORANGE:"#e88c41"});function F(e){var t=new m;return t.pushArrayOfBalls(e.map((function(e){return W[e]}))),t}var L=[F([0,1,0,2]),F([1,3,4,2]),F([5,6,4,4]),F([7,6,3,6]),F([8,5,7,7]),F([0,5,5,1]),F([3,3,2,0]),F([4,6,8,8]),F([7,2,8,1]),F([]),F([])];function D(e){return e.map((function(e){return e.clone()}))}var V=function(){var e=Object(r.useState)(0),t=Object(s.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)("configuration"),u=Object(s.a)(i,2),l=u[0],c=u[1],f=Object(r.useState)([]),v=Object(s.a)(f,2),h=v[0],p=v[1],d=Object(r.useState)(0),k=Object(s.a)(d,2),b=k[0],g=k[1],y=Object(r.useState)([]),E=Object(s.a)(y,2),C=E[0],O=E[1],N=Object(r.useState)(L),x=Object(s.a)(N,2),j=x[0],S=x[1];return a.a.createElement("div",{className:"App"},"configuration"===l?a.a.createElement(G,{colors:W,glasses:j,activeGlass:n,onTestTubeClick:function(e){o(e)},onClear:function(){S(function(e,t){var n=D(e);return n.splice(t,1,new m),n}(j,n))},onAdd:function(){S(function(e,t){var n=D(e);return n.splice(t+1,0,new m),n}(j,n)),o(n+1)},onRemove:function(){S(function(e,t){var n=D(e);return n.splice(t,1),0===n.length&&n.push(new m),n}(j,n)),o(Math.max(n-1,0))},onColorClick:function(e){S(function(e,t,n){var r=D(e),a=r[t];return a.isFull()||a.push(n),r}(j,n,e))},onSolve:function(){var e=new B(j),t=I(e);if(!t.isSolvable)throw Error("Board not solvable");g(0),p(t.moves),O(D(j)),c("solution")}}):a.a.createElement(T,{glasses:C,moves:h,moveIndex:b,onNext:function(){var e=h[b],t=new B(C);t.moveBall(e),O(t.getGlasses()),g(b+1)},onPrevious:function(){var e=h[b-1],t=new B(C);t.moveBall(e.invert()),O(t.getGlasses()),g(b-1)},onRestart:function(){c("configuration")}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.f9f29315.chunk.js.map