(this["webpackJsonpball-sort-puzzle"]=this["webpackJsonpball-sort-puzzle"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(40)},,,,,,,function(e,t,n){},,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),i=n.n(o),s=n(6),l=(n(24),n(7)),u=n(11),c=(n(25),n(26),n(1)),f=n(2),v=n(3),h=n.n(v),m=function(){function e(t){Object(c.a)(this,e),this.value=t,this.next=null,h()(this)}return Object(f.a)(e,[{key:"getValue",value:function(){return this.value}},{key:"getNext",value:function(){return this.next}},{key:"setNext",value:function(e){return this.next=e,this}}]),e}(),p=function(){function e(){Object(c.a)(this,e),this.next=null,this.internalSize=0,h()(this)}return Object(f.a)(e,[{key:"push",value:function(e){var t=new m(e);t.setNext(this.next),this.next=t,this.internalSize+=1}},{key:"top",value:function(){return this.next.getValue()}},{key:"pop",value:function(){var e=this.next;return this.next=e.getNext(),this.internalSize-=1,e.getValue()}},{key:"isEmpty",value:function(){return null===this.next}},{key:"size",value:function(){return this.internalSize}}]),e}(),d=function(){function e(){Object(c.a)(this,e),this.capacity=4,this.stack=new p,h()(this)}return Object(f.a)(e,[{key:"getCapacity",value:function(){return this.capacity}},{key:"isEmpty",value:function(){return this.stack.isEmpty()}},{key:"isFull",value:function(){return this.stack.size()===this.capacity}},{key:"top",value:function(){return this.stack.top()}},{key:"pop",value:function(){return this.stack.pop()}},{key:"push",value:function(e){if(this.isFull())throw Error("Can't push to a full glass");this.stack.push(e)}},{key:"size",value:function(){return this.stack.size()}},{key:"hasOnlySingleColorBalls",value:function(){for(var e=this.getAllBalls(),t=1;t<e.length;t+=1)if(e[t-1]!==e[t])return!1;return!0}},{key:"pushArrayOfBalls",value:function(e){if(e.length+this.stack.size()>this.capacity)throw Error("pushArrayOfBalls can't exceed glass capacity");e.forEach(this.push)}},{key:"getAllBalls",value:function(){for(var e=[];!this.isEmpty();)e.push(this.pop());return e.reverse(),this.pushArrayOfBalls(e),e}},{key:"clone",value:function(){var t=new e(this.capacity);return t.pushArrayOfBalls(this.getAllBalls()),t}},{key:"toString",value:function(){return this.getAllBalls().join(",")}}]),e}();n(33);function k(e){var t=e.color,n=e.onClick;return r.a.createElement("div",{className:"Ball",onClick:function(){return n()},style:{backgroundColor:t},role:"button",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&n()}})}k.defaultProps={onClick:function(){}};var b=k;n(34);function g(e){var t=e.glass,n=e.active,a=e.onClick,o=t.getAllBalls(),i=function(e,t){return"".concat(t,":").concat(e)};return r.a.createElement("div",{className:"TestTube ".concat(n?"active":""),onClick:function(){return a()},role:"button",tabIndex:0,onKeyPress:function(e){"Enter"===e.key&&a()}},r.a.createElement("div",{className:"BallWrapper"},o.map((function(e,t){return r.a.createElement(b,{key:i(e,t),color:e})}))))}g.defaultProps={active:!1,onClick:function(){}};var y=g;n(35);function E(e){var t=e.glasses,n=e.activeGlass,a=e.onTestTubeClick,o=function(e,t){return"".concat(t,":").concat(e.toString())};return r.a.createElement("div",{className:"TestTubes"},t.map((function(e,t){return r.a.createElement("div",{key:o(e,t),className:"TestTubeWrapper"},r.a.createElement(y,{glass:e,active:t===n,onClick:function(){return a(t)}}))})))}E.defaultProps={activeGlass:-1,onTestTubeClick:function(){}};var C=E;n(36);var O=function(e){var t=e.testTubes,n=e.children;return r.a.createElement("div",{className:"Template"},r.a.createElement("div",{className:"TestTubesWrapper"},t),r.a.createElement("div",{className:"SidepanelWrapper"},n))};n(37);var N=function(e){var t=e.children;return r.a.createElement("div",{className:"Sidebar"},t)};n(38);function S(e){var t=e.disabled,n=e.onClick,a=e.text;return r.a.createElement("button",{type:"button",className:"Button",disabled:t,onClick:function(){s.a.event({category:"Button Click",action:a,nonInteraction:!1}),n()}},r.a.createElement("span",null,a))}S.defaultProps={disabled:!1,onClick:function(){}};var x=S;n(39);function w(e){var t=e.glasses,n=e.colors,a=e.activeGlass,o=e.onTestTubeClick,i=e.onClear,s=e.onAdd,l=e.onRemove,u=e.onColorClick,c=e.onSolve;return r.a.createElement(O,{testTubes:r.a.createElement(C,{glasses:t,activeGlass:a,onTestTubeClick:function(e){return o(e)}})},r.a.createElement(G,{colors:n,onClear:function(){return i()},onAdd:function(){return s()},onRemove:function(){return l()},onColorClick:function(e){return u(e)},onSolve:function(){return c()}}))}function G(e){var t=e.colors,n=e.onColorClick,a=e.onAdd,o=e.onClear,i=e.onRemove,s=e.onSolve;return r.a.createElement(N,null,r.a.createElement("div",{className:"BallWrapper"},t.map((function(e){return r.a.createElement("div",{key:e,className:"SingleBallWrapper"},r.a.createElement(b,{color:e,onClick:function(){return n(e)}}))}))),r.a.createElement(x,{text:"CLEAR",onClick:function(){return o()}}),r.a.createElement(x,{text:"ADD",onClick:function(){return a()}}),r.a.createElement(x,{text:"REMOVE",onClick:function(){return i()}}),r.a.createElement(x,{text:"SOLVE",onClick:function(){return s()}}))}w.defaultProps={onTestTubeClick:function(){},onClear:function(){},onAdd:function(){},onRemove:function(){},onColorClick:function(){},onSolve:function(){}},G.defaultProps={onColorClick:function(){},onAdd:function(){},onClear:function(){},onRemove:function(){},onSolve:function(){}};var T=w,j=function(){function e(t,n){Object(c.a)(this,e),this.from=t,this.to=n}return Object(f.a)(e,[{key:"invert",value:function(){return new e(this.to,this.from)}}]),e}();function B(e){var t=e.currentMove,n=e.numberOfMoves,a=e.onNext,o=e.onPrevious,i=e.onRestart;return r.a.createElement(N,null,r.a.createElement("p",null,t," / ",n),r.a.createElement(x,{text:"Next",disabled:t>=n,onClick:function(){return a()}}),r.a.createElement(x,{text:"Previous",disabled:t<=0,onClick:function(){return o()}}),r.a.createElement(x,{text:"Restart",onClick:function(){return i()}}))}var A=function(e){var t=e.glasses,n=e.moves,a=e.moveIndex,o=e.onNext,i=e.onPrevious,s=e.onRestart;return r.a.createElement(O,{testTubes:r.a.createElement(C,{glasses:t})},r.a.createElement(B,{currentMove:a,numberOfMoves:n.length,onNext:function(){return o()},onPrevious:function(){return i()},onRestart:function(){return s()}}))},P=function(){function e(t){Object(c.a)(this,e),this.glasses=t,this.numberOfColors=this.internalCalculateNumberOfColors(),h()(this)}return Object(f.a)(e,[{key:"isGlassComplete",value:function(e){var t=this.internalGetGlass(e);return t.isFull()&&t.hasOnlySingleColorBalls()}},{key:"isComplete",value:function(){var e=this;return this.glasses.filter((function(t,n){return e.isGlassComplete(n)})).length===this.numberOfColors}},{key:"calculateAllPotentialMoves",value:function(){var e=this,t=[];return this.glasses.forEach((function(n,a){n.isFull()||e.internalFindAllGlassIndexesThatCanMoveToGlass(a).forEach((function(e){t.push(new j(e,a))}))})),t}},{key:"moveBall",value:function(e){var t=this.internalGetGlass(e.from).pop();this.internalGetGlass(e.to).push(t)}},{key:"getGlasses",value:function(){return this.glasses}},{key:"clone",value:function(){return new e(this.glasses.map((function(e){return e.clone()})))}},{key:"toString",value:function(){var e=this,t="";return this.glasses.forEach((function(n,a){t+=n.toString(),a!==e.numberOfGlasses-1&&(t+="\n")})),t}},{key:"internalGetGlass",value:function(e){return this.glasses[e]}},{key:"internalCalculateNumberOfColors",value:function(){var e=new Set;return this.glasses.forEach((function(t){t.getAllBalls().forEach((function(t){return e.add(t)}))})),e.size}},{key:"internalFindAllGlassIndexesThatCanMoveToGlass",value:function(e){var t=this.internalGetGlass(e);return this.glasses.map((function(e,t){return{fromGlass:e,fromIndex:t}})).filter((function(t){return t.fromIndex!==e})).filter((function(e){return!e.fromGlass.isEmpty()})).filter((function(e){var n=e.fromGlass;return t.isEmpty()||t.top()===n.top()})).map((function(e){return e.fromIndex}))}}]),e}(),R=n(15),M=n(16),z=n(14),I=function(){function e(t){Object(c.a)(this,e),this.visited=new Set,this.visited.add(t.getHash()),this.stack=new p,this.stack.push(t),h()(this)}return Object(f.a)(e,[{key:"isDone",value:function(){return this.stack.isEmpty()}},{key:"currentNode",value:function(){return this.stack.top()}},{key:"iterate",value:function(){var e=this.stack,t=this.visited;e.pop().getNeighbors().forEach((function(n){var a=n.getHash();t.has(a)||(e.push(n),t.add(a))}))}}]),e}(),W=function(e){Object(M.a)(n,e);var t=Object(z.a)(n);function n(e,a,r){var o;return Object(c.a)(this,n),(o=t.call(this)).board=e,o.previousMove=a,o.previousNode=r,o}return Object(f.a)(n,[{key:"getHash",value:function(){var e=this.board.getGlasses().map((function(e){return e.toString()}));return e.sort(),e.join(";")}},{key:"getNeighbors",value:function(){var e=this,t=this.board;return t.calculateAllPotentialMoves().filter((function(e){return!t.isGlassComplete(e.from)})).filter((function(e){var n=t.getGlasses()[e.from];return!(3===n.size()&&n.hasOnlySingleColorBalls())})).map((function(a){var r=t.clone();return r.moveBall(a),new n(r,a,e)}))}},{key:"getBoard",value:function(){return this.board}},{key:"getMovesToNode",value:function(){var e=[];return null!==this.previousNode&&e.push.apply(e,Object(R.a)(this.previousNode.getMovesToNode())),null!==this.previousMove&&e.push(this.previousMove),e}}]),n}(function(){function e(){Object(c.a)(this,e)}return Object(f.a)(e,[{key:"getHash",value:function(){throw Error("Not implemented")}},{key:"getNeighbors",value:function(){throw Error("Not implemented")}}]),e}());var D=function(e){for(var t=new W(e,null,null),n=new I(t);!n.isDone();){var a=n.currentNode();if(a.getBoard().isComplete())return{isSolvable:!0,moves:a.getMovesToNode()};n.iterate()}return{isSolvable:!1,moves:[]}},F=Object.values({RED:"#c52b23",BLUE:"#3b2fc3",PURPLE:"#722b93",YELLOW:"#f1da58",GREEN:"#78970e",PINK:"#ea5e7b",AQUA:"#55a3e5",GREY:"#636466",BABY:"#61d67d",ORANGE:"#e88c41"});function L(e){var t=new d;return t.pushArrayOfBalls(e.map((function(e){return F[e]}))),t}var H=[L([0,1,0,2]),L([1,3,4,2]),L([5,6,4,4]),L([7,6,3,6]),L([8,5,7,7]),L([0,5,5,1]),L([3,3,2,0]),L([4,6,8,8]),L([7,2,8,1]),L([]),L([])];function U(e){return e.map((function(e){return e.clone()}))}var V=function(){var e=Object(a.useState)(0),t=Object(l.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)("configuration"),c=Object(l.a)(i,2),f=c[0],v=c[1],h=Object(a.useState)([]),m=Object(l.a)(h,2),p=m[0],k=m[1],b=Object(a.useState)(0),g=Object(l.a)(b,2),y=g[0],E=g[1],C=Object(a.useState)([]),O=Object(l.a)(C,2),N=O[0],S=O[1],x=Object(a.useState)(H),w=Object(l.a)(x,2),G=w[0],j=w[1];return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null),"configuration"===f?r.a.createElement(T,{colors:F,glasses:G,activeGlass:n,onTestTubeClick:function(e){o(e)},onClear:function(){j(function(e,t){var n=U(e);return n.splice(t,1,new d),n}(G,n))},onAdd:function(){j(function(e,t){var n=U(e);return n.splice(t+1,0,new d),n}(G,n)),o(n+1)},onRemove:function(){j(function(e,t){var n=U(e);return n.splice(t,1),0===n.length&&n.push(new d),n}(G,n)),o(Math.max(n-1,0))},onColorClick:function(e){j(function(e,t,n){var a=U(e),r=a[t];return r.isFull()||r.push(n),a}(G,n,e))},onSolve:function(){var e=new P(G),t=Date.now(),n=D(e),a=Date.now();s.a.timing({value:a-t,category:"Solver",variable:"DFS",label:"".concat(n.isSolvable?"Solvable":"Unsolvable")}),n.isSolvable?(E(0),k(n.moves),S(U(G)),v("solution")):u.b.error("This board is not solvable...",{position:u.b.POSITION.TOP_RIGHT,autoClose:5e3,hideProgressBar:!0})}}):r.a.createElement(A,{glasses:N,moves:p,moveIndex:y,onNext:function(){var e=p[y],t=new P(N);t.moveBall(e),S(t.getGlasses()),E(y+1)},onPrevious:function(){var e=p[y-1],t=new P(N);t.moveBall(e.invert()),S(t.getGlasses()),E(y-1)},onRestart:function(){v("configuration")}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.initialize("UA-168632958-1",{gaOptions:{siteSpeedSampleRate:100}}),s.a.pageview(window.location.pathname+window.location.search),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.22c3e643.chunk.js.map